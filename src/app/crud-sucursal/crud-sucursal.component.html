<div class="container-fluid">
    <div class="row justify-content-evenly">
      <div class="col-lg-8 col-md-12">
        <div class="container box border">
          <div>
            <h3 class="text-secondary"> Sucursales </h3>
          </div>
  
          <div class="orders border-top pt-2">
            <ul class="list-group">
              <li class="list-group-item list-group-item-action"
                  *ngFor="let sucursal of sucursales; index as i"
                  (click)="toEdit(sucursal)">
                <div class="">
                  <div class="row justify-content-evenly order shadow p-3 mb-5 bg-body rounded">
                    <div class="col-md-4">
                      <h1><span class="badge badge-pill badge-success">{{i+1}}</span></h1>
                    </div>
                    <div class="col-8">
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Nombre:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{sucursal.Nombre}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Distrito:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{sucursal.Distrito}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Canton:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{sucursal.Canton}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Provincia:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{sucursal.Provincia}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Fecha Apertura:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{sucursal.FechaApertura}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Horario:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{sucursal.Horario}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Capacidad:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{sucursal.Capacidad}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Cedula Administrador:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{sucursal.CedulaAdministrador}} </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-lg-4 col-md-12">
        <div class="container-fluid inputBox border">
          <form #servicioForm class="center-form">
            <div>
              <h3 class="text-secondary text-center mb-2"> Agregar o Editar una sucursal </h3>
            </div>
            <div class="form-group">
              <input required type="text" min="0" name="id" [(ngModel)]="selectedSucursal.Nombre" placeholder="Nombre"
                     class="form-control"  #name="ngModel" [class.is-invalid]="name.invalid && (provincia.dirty || provincia.touched)">
            </div>
            <div class="form-group ">
                <input required type="text" min="0" name="distrito" [(ngModel)]="selectedSucursal.Distrito"
                        placeholder="distrito"  #distrito="ngModel" [class.is-invalid]="distrito.invalid && (distrito.dirty || distrito.touched)"
                        class="form-control">
            </div>
            <div class="form-group ">
              <input required type="text" min="0" name="Canton" [(ngModel)]="selectedSucursal.Canton"
                      placeholder="Canton"  #canton="ngModel" [class.is-invalid]="canton.invalid && (canton.dirty || canton.touched)"
                      class="form-control">
          </div> 
          <div class="form-group ">
            <input required type="text" min="0" name="Provincia" [(ngModel)]="selectedSucursal.Provincia"
                    placeholder="Provincia"  #provincia="ngModel" [class.is-invalid]="provincia.invalid && (provincia.dirty || provincia.touched)"
                    class="form-control">
        </div> 
        <div class="form-group ">
          <input required type="text" min="0" name="fechaApertura" [(ngModel)]="selectedSucursal.FechaApertura"
                  placeholder="fechaApertura"  #fechaApertura="ngModel" [class.is-invalid]="fechaApertura.invalid && (fechaApertura.dirty || fechaApertura.touched)"
                  disabled class="form-control">
      </div> 
      <div class="form-group ">
        <input required type="text" min="0" name="Horario" [(ngModel)]="selectedSucursal.Horario"
                placeholder="Horario"  #horario="ngModel" [class.is-invalid]="horario.invalid && (horario.dirty || horario.touched)"
                class="form-control">
    </div> 
    <div class="form-group ">
      <input required type="text" min="0" name="Capacidad" [(ngModel)]="selectedSucursal.Capacidad"
              placeholder="Capacidad"  #capacidad="ngModel" [class.is-invalid]="capacidad.invalid && (capacidad.dirty || capacidad.touched)"
              class="form-control">
  </div> 
  <div class="form-group ">
    <input  type="text" min="0" name="CedulaAdministrador" [(ngModel)]="selectedSucursal.CedulaAdministrador"
            placeholder="Cedula de Administrador"  #cedulaAdministrador="ngModel" [class.is-invalid]="cedulaAdministrador.invalid && (cedulaAdministrador.dirty || cedulaAdministrador.touched)"
            class="form-control">
</div> 

  
          </form>
          <div class="row">
            <div class="mt-4 text-center col-12">
              <button [disabled]="!servicioForm.checkValidity()"
                      (click)="addOrEdit(servicioForm)" type="button"
                      class="btn btn-dark">
                Confirmar
              </button>
            </div>
            <div class="col-12 mt-2 text-center">
              <button type="button" *ngIf="this.editing" class="btn btn-danger"
                      (click)="delete(servicioForm)">
                Eliminar
              </button>
            </div>
            <div class="col-12 mt-2 mb-2 text-center">
              <button type="button" *ngIf="this.editing" class="btn btn-light"
                      (click)="cancel(servicioForm)">
                Cancelar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row justify-content-evenly">
      <div class="col-lg-8 col-md-12">
        <div class="container box border">
          <div>
            <h3 class="text-secondary"> Clases </h3>
          </div>
          <div class="orders border-top pt-2">
            <ul class="list-group">
              <li class="list-group-item list-group-item-action"
                  *ngFor="let clase of clases; index as i"
                  (click)="toEditCla(clase)">
                <div class="">
                  <div class="row justify-content-evenly order shadow p-3 mb-5 bg-body rounded">
                    <div class="col-md-4">
                      <h1><span class="badge badge-pill badge-success">{{i+1}}</span></h1>
                    </div>
                    <div class="col-8">
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Fecha de inicio:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{clase.DatetimeInicio}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Fecha de finalizacion:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{clase.DatetimeFinal}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Tipo:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{clase.Tipo}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Modalidad:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{clase.Modalidad}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Instructor:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{clase.CedulaEmpleado}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Impartido en:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{clase.ImpartidoEnSucursal}} </p>
                        </div>
                      </div>
                      <div class="row justify-content-evenly">
                        <div class="col-6">
                          <p class="col-form-label font-weight-bold text-secondary">Cupo Disponible:</p>
                        </div>
                        <div class="col-6">
                          <p class="col-form-label text-muted text-secondary">{{clase.CupoDisponible}} </p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="col-lg-4 col-md-12">
        <div class="container-fluid inputBox border">
          <form #claseForm class="center-form">
            <div>
              <h3 class="text-secondary text-center mb-2"> Agregar o Editar una clase </h3>
            </div>
            <div class="form-group">
              <input required type="text" min="0" name="inicio" [(ngModel)]="selectedClase.DatetimeInicio" placeholder="Fecha de inicio"
                     class="form-control"  #inicio="ngModel" [class.is-invalid]="inicio.invalid && (inicio.dirty || inicio.touched)">
            </div>
            <div class="form-group ">
                <input required type="text" min="0" name="final" [(ngModel)]="selectedClase.DatetimeFinal"
                        placeholder="Fecha de finalizacion"  #final="ngModel" [class.is-invalid]="final.invalid && (final.dirty || final.touched)"
                        class="form-control">
            </div>
            <div class="form-group ">
              <input required type="text" min="0" name="tipo" [(ngModel)]="selectedClase.Tipo"
                      placeholder="Tipo de clase"  #tipo="ngModel" [class.is-invalid]="tipo.invalid && (tipo.dirty || tipo.touched)"
                      class="form-control">
            </div> 
            <div class="form-group ">
              <input required type="text" min="0" name="modalidad" [(ngModel)]="selectedClase.Modalidad"
                      placeholder="Modalidad"  #modalidad="ngModel" [class.is-invalid]="modalidad.invalid && (modalidad.dirty || modalidad.touched)"
                      class="form-control">
            </div> 
            <div class="form-group ">
              <input type="text" min="0" required name="instructor" [(ngModel)]="selectedClase.CedulaEmpleado"
                      placeholder="Instructor"  #instructor="ngModel" [class.is-invalid]="instructor.invalid && (instructor.dirty || instructor.touched)"
                       class="form-control">
            </div> 
            <div class="form-group ">
              <input required type="text" min="0" name="Sucursal" [(ngModel)]="selectedClase.ImpartidoEnSucursal"
                      placeholder="Sucursal"  #sucursal="ngModel" [class.is-invalid]="sucursal.invalid && (sucursal.dirty || sucursal.touched)"
                      class="form-control">
            </div> 
            <div class="form-group ">
              <input required type="text" min="0" name="cupo" [(ngModel)]="selectedClase.CupoDisponible"
                      placeholder="Cupo disponible"  #cupo="ngModel" [class.is-invalid]="cupo.invalid && (cupo.dirty || cupo.touched)"
                      class="form-control">
            </div> 
            <div class="form-group hidden">
              <input  type="text" disabled min="0" name="identificador" [(ngModel)]="selectedClase.Identificador"
                      placeholder="Identificador de la clase"  #identificador="ngModel" [class.is-invalid]="identificador.invalid && (identificador.dirty || identificador.touched)"
                      class="form-control">
            </div>
          </form>
          <div class="row">
            <div class="mt-4 text-center col-12">
              <button [disabled]="!claseForm.checkValidity()"
                      (click)="addOrEditCla(servicioForm)" type="button"
                      class="btn btn-dark">
                Confirmar
              </button>
            </div>
            <div class="col-12 mt-2 text-center">
              <button type="button" *ngIf="this.editingCla" class="btn btn-danger"
                      (click)="deleteCla(servicioForm)">
                Eliminar
              </button>
            </div>
            <div class="col-12 mt-2 mb-2 text-center">
              <button type="button" *ngIf="this.editingCla" class="btn btn-light"
                      (click)="cancelCla(servicioForm)">
                Cancelar
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <app-fail-dialog [header]="errorMsgHeader"
                     [message]="errorMsg"></app-fail-dialog>
  
  </div>
