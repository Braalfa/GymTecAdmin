<div class="container-fluid">
  <div class="row justify-content-evenly">
    <div class="col-lg-8 col-md-12">
      <div class="container box border">
        <div>
          <h3 class="text-secondary"> Productos </h3>
        </div>
        <div class="orders border-top pt-2">
          <ul class="list-group">
            <li class="list-group-item list-group-item-action"
                *ngFor="let producto of productos; index as i"
                (click)="toEdit(producto)">
              <div class="">
                <div class="row justify-content-evenly order shadow p-3 mb-5 bg-body rounded">
                  <div class="col-md-4">
                    <h1><span class="badge badge-pill badge-success">{{i+1}}</span></h1>
                  </div>
                  <div class="col-8">
                    <div class="row justify-content-evenly">
                      <div class="col-6">
                        <p class="col-form-label font-weight-bold text-secondary">Nombre:</p>
                      </div>
                      <div class="col-6">
                        <p class="col-form-label text-muted text-secondary">{{producto.Nombre}} </p>
                      </div>
                    </div>
                    <div class="row justify-content-evenly">
                      <div class="col-6">
                        <p class="col-form-label font-weight-bold text-secondary">C贸digo de barras:</p>
                      </div>
                      <div class="col-6">
                        <p class="col-form-label text-muted text-secondary">{{producto.CodigoBarras}} </p>
                      </div>
                    </div>
                    <div class="row justify-content-evenly">
                      <div class="col-6">
                        <p class="col-form-label font-weight-bold text-secondary">Costo:</p>
                      </div>
                      <div class="col-6">
                        <p class="col-form-label text-muted text-secondary">{{producto.Costo}} </p>
                      </div>
                    </div>
                    <div class="row justify-content-evenly">
                      <div class="col-6">
                        <p class="col-form-label font-weight-bold text-secondary">Descripci贸n:</p>
                      </div>
                      <div class="col-6">
                        <p class="col-form-label text-muted text-secondary">{{producto.Descripcion}} </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="col-lg-4 col-md-12">
      <div class="container-fluid inputBox border">
        <form #productoForm class="center-form">
          <div>
            <h3 class="text-secondary text-center mb-2"> Agregar o Editar un Producto </h3>
          </div>
          <div class="form-group ">
              <input required type="text" min="0" name="nombre" [(ngModel)]="selectedproducto.Nombre"
                      placeholder="Nombre"  #nombre="ngModel" [class.is-invalid]="nombre.invalid && (nombre.dirty || nombre.touched)"
                      class="form-control">
          </div>  
          <div class="form-group">
            <input required pattern='[0-9]*' type="text" min="0" name="codigobarras" [(ngModel)]="selectedproducto.CodigoBarras" placeholder="C贸digo de barras"
                    class="form-control"  #codigobarras="ngModel" [class.is-invalid]="codigobarras.invalid && (codigobarras.dirty || codigobarras.touched)">
          </div>
          <div class="form-group">
              <input required pattern='[0-9]*' type="text" min="0" name="costo" [(ngModel)]="selectedproducto.Costo" placeholder="Costo"
                      class="form-control"  #costo="ngModel" [class.is-invalid]="costo.invalid && (costo.dirty || costo.touched)">
            </div>
          <div class="form-group ">
              <input required type="text" min="0" name="descripcion" [(ngModel)]="selectedproducto.Descripcion"
                      placeholder="Descripci贸n"  #descripcion="ngModel" [class.is-invalid]="descripcion.invalid && (descripcion.dirty || descripcion.touched)"
                      class="form-control">
          </div>
          <div class="form-group ">
            <select [disabled]='selectedSucursal.Nombre!=undefined' name="sucursal" [(ngModel)]='selectedNombreSucursal' #sucursal="ngModel">
                <option  selected value> -- select an option -- </option>
                <option *ngFor='let nombreSucursal of sucursales'
                    value={{nombreSucursal.Nombre}}
                >{{nombreSucursal.Nombre}}</option>
            </select>
        </div>    
        </form>
        <div class="row">
          <div class="mt-4 text-center col-12">
            <button [disabled]="!productoForm.checkValidity()"
                    (click)="addOrEdit(productoForm)" type="button"
                    class="btn btn-dark">
              Confirmar
            </button>
          </div>
          <div class="col-12 mt-2 text-center">
            <button type="button" *ngIf="this.editing" class="btn btn-danger"
                    (click)="delete(productoForm)">
              Eliminar
            </button>
          </div>
          <div class="col-12 mt-2 mb-2 text-center">
            <button type="button" *ngIf="this.editing" class="btn btn-light"
                    (click)="cancel(productoForm)">
              Cancelar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <app-fail-dialog [header]="errorMsgHeader"
                    [message]="errorMsg"></app-fail-dialog>
  
</div>
  

